<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    {{> header}}
    
    <title>{{title}}</title>

    <main>
        <h1>{{title}}</h1>
        <a href="/comments/new">New Comment</a>

    </main>
    <!-- If comment array isnt 0 display each comment, else say no comments -->
    <div class="comments-container">
        {{#if comments.length}}
            {{#each comments}}
            <div class="comment">
                <div class="comment-author">
                    {{#if (eq this.user_id ../currentUserID)}}
                    <a href="/profile/me" style="color: {{this.user_color}}; text-decoration: none;">
                        <strong>{{this.display_name}}</strong>
                    </a>
                    {{else}}
                    <a href="/profile/{{this.user_id}}" style="color: {{this.user_color}}; text-decoration: none;">
                        <strong>{{this.display_name}}</strong>
                    </a>
                    {{/if}}
                    <span class="comment-date">{{this.created_at}}</span>
                </div>

                <div class="comment-text">
                    {{this.content}}
                </div>
            </div>
            {{/each}}
        <div class="pagination">
            {{#if hasPrevPage}}
                <a href="/comments?page={{prevPage}}">← Previous</a>
            {{/if}}
            
            <span>Page {{currentPage}} of {{totalPages}}</span>
            
            {{#if hasNextPage}}
                <a href="/comments?page={{nextPage}}">Next →</a>
            {{/if}}
        </div>

        {{else}}
            <p>No comments posted</p>
        {{/if}}
    </div>

    {{> footer}}
</body>
</html>



